schema {
    query: Query
    mutation: Mutation
}

interface Record {
    id: ID!
    createdAt: Date!
    lastUpdated: Date!
}

# EventType helps to indicate an event's type.
enum EventType {
    # Indicates a League event
    LEAGUE
    # Indicates an FFG Organized Play event
    FFGOP
    # Indicates some other, free form event
    OTHER
}

type Event implements Record {
    id: ID!
    createdAt: Date!
    lastUpdated: Date!
    name: String!
    type: EventType!
    days: [EventDay!]!
}

type EventDay implements Record{
    createdAt: Date!
    endAt: Date!
    id: ID!
    lastUpdated: Date!
    rounds: [Round!]!
    startAt: Date!
}

type Match {
    id: ID!
    players: [Player!]!
}

type Mutation {
    createEvent(input: EventInput!): Event!
    updateEvent(input: EventInput!): Event!
    deleteEvent(eventId: ID!): Boolean!
}

type Player {
    id: ID!
    name: String!
    user: User
}

type Query {
    events: [Event!]!
}

type Round {
    counter: Int!
    id: ID!
    matches: [Match!]!
}

type User {
    id: ID!
    name: String!
    picture: String
    username: String!
}

input EventInput {
    name: String!
}


scalar Date